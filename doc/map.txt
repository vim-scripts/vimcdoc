*map.txt*       For Vim version 6.2.  Ô­ÎÄ×îºó¸üĞÂ: 2003Äê5ÔÂ4ÈÕ


		  VIM ²Î¿¼ÊÖ²á    ×÷Õß: Bram Moolenaar
		  		  ·­Òë: con<con@netease.com>
				  VCDÖ÷Ò³£ºhttp://vimcdoc.sf.net


¼üÓ³Éä, ËõĞ´ºÍÓÃ»§¶¨ÒåµÄÃüÁî.

±¾Ö÷ÌâÔÚÓÃ»§ÊÖ²á |05.3|, |24.7| ºÍ |40.1| ÖĞÓĞ¹ı½éÉÜ.

1. ¼üÓ³Éä			|key-mapping|
2. ËõĞ´				|abbreviations|
3. ¾Ö²¿Ó³ÉäºÍº¯Êı		|script-local|
4. ÓÃ»§¶¨ÒåµÄÃüÁî		|user-commands|

==============================================================================
1. ¼üÓ³Éä				*key-mapping* *mapping* *macro*

¼üÓ³ÉäÓÃÓÚ¸Ä±äÊäÈë¼üµÄº¬Òå. ×îÍ¨³£µÄÓÃÍ¾ÊÇÎªÒ»¸ö¹¦ÄÜ¼ü¶¨Òå³ÉÒ»ÏµÁĞµÄÃüÁî.
±ÈÈç:

	:map <F2> a<C-R>=strftime("%c")<CR><Esc>

Õâ¸öÓ³ÉäÔÚ¹â±êÖ®ºó×·¼Óµ±Ç°µÄÈÕÆÚºÍÊ±¼ä. (in <> notation |<>|)

ÓĞºÜ¶àÃüÁîÓÃÓÚ¶¨ÒåĞÂµÄÓ³Éä, É¾³ıÓ³ÉäºÍÁĞ³öµ±Ç°µÄÓ³Éä.¿ÉÒÔ´Ó|map-overview|²Î¿¼
²»Í¬µÄ"Ó³Éä"ĞÎÊ½ºÍÏà¹ØµÄÄ£Ê½.

{lhs}	±íÊ¾×óÊÖ±ß	*{lhs}*
{rhs}	±íÊ¾ÓÒÊÖ±ß	*{rhs}*

:map	{lhs} {rhs}					*:map*
:nm[ap]	{lhs} {rhs}					*:nm* *:nmap*
:vm[ap]	{lhs} {rhs}					*:vm* *:vmap*
:om[ap]	{lhs} {rhs}					*:om* *:omap*
:map!	{lhs} {rhs}					*:map!*
:im[ap]	{lhs} {rhs}					*:im* *:imap*
:lm[ap]	{lhs} {rhs}					*:lm* *:lmap*
:cm[ap]	{lhs} {rhs}					*:cm* *:cmap*
			ÔÚÓ³ÉäÃüÁî×÷ÓÃµÄÄ£Ê½ÖĞ°Ñ¼üÏµÁĞ{lhs}Ó³ÉäÎª{rhs}. ²¢
			ÇÒÓ³ÉäºóµÄ{rhs}Ò²±»½øĞĞÓ³ÉäÉ¨Ãè. Õâ¸öÌØĞÔ¿ÉÒÔÓÃÀ´½ø
			ĞĞÓ³ÉäµÄÇ¶Ì×ºÍµİ¹é.


:no[remap]  {lhs} {rhs}					*:no*  *:noremap*
:nn[oremap] {lhs} {rhs}					*:nn*  *:nnoremap*
:vn[oremap] {lhs} {rhs}					*:vn*  *:vnoremap*
:ono[remap] {lhs} {rhs}					*:ono* *:onoremap*
:no[remap]! {lhs} {rhs}					*:no!* *:noremap!*
:ino[remap] {lhs} {rhs}					*:ino* *:inoremap*
:lno[remap] {lhs} {rhs}					*:ln*  *:lnoremap*
:cno[remap] {lhs} {rhs}					*:cno* *:cnoremap*
			ÔÚÓ³ÉäÃüÁî×÷ÓÃµÄÄ£Ê½ÖĞ°Ñ¼üĞòÁĞ{lhs}Ó³ÉäÎª{rhs}. ½û
			Ö¹¶ÔÓ³ÉäºóµÄ{rhs}½øĞĞÓ³ÉäÉ¨Ãè. Õâ¸öÌØĞÔ¿ÉÒÔ±ÜÃâÓ³Éä
			µÄÇ¶Ì×ºÍµİ¹é. Í¨³£ÓÃÓÚÖØ¶¨ÒåÒ»¸öÃüÁî.  {not in Vi}


:unm[ap]  {lhs}						*:unm*  *:unmap*
:nun[map] {lhs}						*:nun*  *:nunmap*
:vu[nmap] {lhs}						*:vu*   *:vunmap*
:ou[nmap] {lhs}						*:ou*   *:ounmap*
:unm[ap]! {lhs}						*:unm!* *:unmap!*
:iu[nmap] {lhs}						*:iu*   *:iunmap*
:lu[nmap] {lhs}						*:lu*   *:lunmap*
:cu[nmap] {lhs}						*:cu*   *:cunmap*
			ÔÚÓ³ÉäÃüÁî×÷ÓÃµÄÄ£Ê½ÖĞÉ¾³ı {lhs} µÄÓ³Éä. ¸ÃÓ³Éä¿ÉÄÜ
			»áÔÚËü×÷ÓÃµÄÆäËüÄ£Ê½ÖĞ±»±£Áô.
			×¢Òâ: {lhs} °üº¬Ä©Î²µÄ¿Õ¸ñ. ¸ÃÓ³ÉäÈ¡Ïû²Ù×÷²»»áÉúĞ§:
				:map @@ foo
				:unmap @@ | print

:mapc[lear]						*:mapc*   *:mapclear*
:nmapc[lear]						*:nmapc*  *:nmapclear*
:vmapc[lear]						*:vmapc*  *:vmapclear*
:omapc[lear]						*:omapc*  *:omapclear*
:mapc[lear]!						*:mapc!*  *:mapclear!*
:imapc[lear]						*:imapc*  *:imapclear*
:lmapc[lear]						*:lmapc*  *:lmapclear*
:cmapc[lear]						*:cmapc*  *:cmapclear*
			ÔÚÓ³ÉäÃüÁî×÷ÓÃµÄÄ£Ê½ÖĞÉ¾³ıËùÓĞµÄÓ³Éä.  {not in Vi}
			¾¯¸æ: ÕâÒ²»áÉ¾³ıÈ±Ê¡µÄÓ³Éä.

:map
:nm[ap]
:vm[ap]
:om[ap]
:map!
:im[ap]
:lm[ap]
:cm[ap]
			ÔÚÓ³ÉäÃüÁî×÷ÓÃµÄµÄÄ£Ê½ÖĞÁĞ³öËùÓĞµÄ¼üÓ³Éä. ×¢Òâ ":map"
			ºÍ":map!"ÊÇ×î³£ÓÃµÄ, ÒòÎªËüÃÇ°üÀ¨ÆäËüÄ£Ê½.

:map    {lhs}						*:map_l*
:nm[ap] {lhs}						*:nmap_l*
:vm[ap] {lhs}						*:vmap_l*
:om[ap] {lhs}						*:omap_l*
:map!   {lhs}						*:map_l!*
:im[ap] {lhs}						*:imap_l*
:lm[ap] {lhs}						*:lmap_l*
:cm[ap] {lhs}						*:cmap_l*
			ÔÚÓ³ÉäÃüÁî×÷ÓÃµÄÄ£Ê½ÖĞÁĞ³öÒÔ {lhs}
			¿ªÍ·µÄ¼üÓ³ÉäµÄ¼üÏµÁĞ.  {not in Vi}

ÕâĞ©ÃüÁîÓÃÓÚ°ÑÒ»¸ö»òÒ»¸ö¼üÏµÁĞÓ³Éä³ÉÒ»¸ö×Ö·û´®.
¿ÉÒÔÓÃËüÀ´ÔÚ¹¦ÄÜ¼üÀï·ÅÖÃÒ»ÏµÁĞÃüÁî, °ÑÒ»¸ö¼ü×ª»»³ÉÁíÒ»¸ö, µÈµÈ.
ÈçºÎ±£´æºÍ»Ö¸´µ±Ç°Ó³Éä¿ÉÒÔ²Î¿¼ |:mkexrc| .

				*:map-local* *:map-<buffer>* *E224* *E225*
Èç¹ûÕâĞ©ÃüÁîµÄµÚÒ»¸ö²ÎÊıÊÇ "<buffer>" ,Ó³Éä½«Ö»¾ÖÏŞÓÚµ±Ç°µÄ»º³åÀï. ÀıÈç:
	:map <buffer>  ,w  /[.,;]<CR>
È»ºóÄã¿ÉÒÔ°Ñ ",w" Ó³Éäµ½Ò»Ğ©ÆäËüµÄ»º³åÀï: >
	:map <buffer>  ,w  /[#&!]<CR>
¾Ö²¿»º³åÓ³ÉäÔÚÈ«¾ÖÓ³ÉäÖ®Ç°±»Ó¦ÓÃ. "<buffer>" ²ÎÊıÒ²¿ÉÒÔÓÃÓÚÇå³ıÓ³Éä:
	:unmap <buffer> ,w
	:mapclear <buffer>
µ±Ò»¸ö»º³å±»É¾³ıÊ±¾Ö²¿Ó³ÉäÒ²»á±»Çå³ı, µ«ÊÇÔÚËü±»Ğ¶ÔØÊ±²»»á. ¾ÍÏó±¾µØÑ¡ÏîÖµ.

						*:map-<silent>* *:map-silent*
ÒªÔÚ¶¨ÒåÒ»¸öÓ³ÉäÊ±²»ÔÚÃüÁîĞĞÀï»ØÏÔ, ¿ÉÒÔÊ¹ÓÃ "<silent>" ×÷ÎªµÚÒ»¸ö²ÎÊı, ÀıÈç:
	:map <silent> ,h /Header<CR>
ÔÚÊ¹ÓÃÕâ¸öÓ³ÉäÊ±ËÑË÷×Ö´®½«²»±»»ØÏÔ. ±»Ö´ĞĞµÄÃüÁîµÄĞÅÏ¢ÈÔÈ»»á±»ÏÔÊ¾.
Òª°ÑËüÒ²¹Øµô, ¿ÉÒÔÔÚÖ´ĞĞµÄÃüÁîÀï¼ÓÈëÒ»¸ö ":silent" :
	:map <silent> ,h :exe ":silent normal /Header\r"<CR>
ÈÔÈ»½«»á¸ø³öÌáÊ¾, ¾ÙÀıÀ´Ëµ, ±ÈÈç inputdialog().
ÔÚÒ»¸öËõĞ´ÉÏÊ¹ÓÃ "<silent>" ÊÇ¿ÉÄÜµÄ, µ«½«»áÊ¹ÖØ»æÃüÁîĞĞÊ§°Ü.

						*:map-<script>* *:map-script*
Èç¹û¸øÕâĞ©ÃüÁîµÄµÚÒ»¸ö²ÎÊıÊÇ "<script>" ²¢ÇÒËüÓÃÓÚ¶¨ÒåÒ»¸öĞÂµÄÓ³Éä»òËõĞ´,
¸ÃÓ³Éä½«½ö½öÖØÓ³Éä {rhs} ÖĞÊ¹ÓÃ±»Ò»¸öÒÔ"<SID>"¿ªÍ·µÄ½Å±¾¾Ö²¿¶¨ÒåµÄÓ³ÉäÖĞµÄ×Ö·û.
Ëü¿ÉÒÔÓÃÓÚ±ÜÃâÀ´×ÔÍâ²¿µÄ½Å±¾µÄ¸ÉÈÅ (¾ÙÀıÀ´Ëµ, ÔÚ mswin.vim ÖĞ CTRL-V ±»ÖØĞÂÓ³Éä ),
µ«ÊÇÓÖÊ¹ÓÃ¸Ã½Å±¾ÖĞ¶¨ÒåµÄÆäËüÓ³Éä.
×¢Òâ: ":map <script>" ºÍ ":noremap <script>" ×öÍ¬ÑùµÄÊÂÇé.
"<script>" ·ñ¾öÁË¸ÃÃüÁîÃû.  ¸üÍÆ¼öÊ¹ÓÃ ":noremap <script>" ,ÒòÎªËü¸üÇåÎúµÄ±íÊ¾
ÁËÖØÓ³ÉäÒÑ±» (´ó¶àÊıÊ±ºò) ½ûÖ¹.

						*:map-<unique>* *E226* *E227*
Èç¹û¸øÕâĞ©ÃüÁîµÄµÚÒ»¸ö²ÎÊıÊÇ "<unique>" ²¢ÇÒËüÓÃÓÚ¶¨ÒåÒ»¸öĞÂµÄÓ³Éä»òËõĞ´, ´ËÊ±
Èç¹û¸ÃÓ³Éä»òËõĞ´ÒÑ¾­´æÔÚ, Ôò¸ÃÃüÁî»áÊ§°Ü. ÀıÈç:
	:map <unique> ,w  /[#&!]<CR>
µ±¶¨ÒåÒ»¸ö¾Ö²¿Ó³Éä, Í¬Ê±Ò²»á¼ì²éÊÇ·ñÒÑ´æÔÚÁËÒ»¸öÏàÍ¬µÄÈ«¾ÖÓ³Éä.
Õâ¸öÀı×Ó½«Ê§°Ü:
	:map ,w  /[#&!]<CR>
	:map <buffer> <unique> ,w  /[.,;]<CR>

"<buffer>", "<silent>", "<script>" ºÍ "<unique>" ¿ÉÒÔÒÔÈÎÒâË³Ğò±»Ê¹ÓÃ.
ËüÃÇ±ØĞè³öÏÖÔÚÃüÁîµÄÓÒ±ß, ²¢ÇÒÔÚÈÎºÎÆäËü²ÎÊıµÄÇ°±ß.


Ó³ Éä Óë Ä£ Ê½

ÓĞÎåÖÖÓ³Éä´æÔÚ
- ¶ÔÓÚÆÕÍ¨: µ±ÊäÈëÃüÁî.
- ¶ÔÓÚ¿ÉÊÓÄ£Ê½: µ±ÊäÈëÃüÁî²¢ÇÒVisualÇøÓòÒÑ±»ÉèÖÃÎª¸ßÁÁ.
- ¶ÔÓÚ Operator-pending mode: µ±Ò»¸ö²Ù×÷·ûÕıÔÚ½øĞĞÖĞ ("d", "y", "c",µÈµÈÖ®ºó)
  ÀıÈç: ":omap { w" »áÊ¹ "y{" ºÍ "yw" Ò»Ñù, "d{" ºÍ "dw"Ò»Ñù.
- ¶ÔÓÚ²åÈëÄ£Ê½. Ò²±»ÓÃÓÚÌæ»»Ä£Ê½.
- ¶ÔÓÚÃüÁîĞĞÄ£Ê½: µ±ÊäÈëÒ»¸ö ":" »ò "/" ÃüÁî.

Ã»ÓĞ¶ÀÁ¢Õë¶ÔÑ¡ÔñµÄÓ³Éä.  ºÍ¿ÉÊÓÄ£Ê½ÔÚ |Select-mode-mapping|
ÖĞµÄÒ»Ñù.

						*map-overview* *map-modes*
Ã¿¸öÓ³ÉäÃüÁî¹¤×÷µÄÄ£Ê½¸Å¿ö:

    ÃüÁî:				      Ä£Ê½: ~
					    ÆÕÍ¨      ¿ÉÊÓ  Operator-pending ~
:map   :noremap   :unmap   :mapclear	    yes	       yes	  yes
:nmap  :nnoremap  :nunmap  :nmapclear	    yes		-	   -
:vmap  :vnoremap  :vunmap  :vmapclear	     -	       yes	   -
:omap  :onoremap  :ounmap  :omapclear	     -		-	  yes

					    ²åÈë     ÃüÁîĞĞ	Lang-Arg ~
:map!  :noremap!  :unmap!  :mapclear!	    yes	       yes	   -
:imap  :inoremap  :iunmap  :imapclear	    yes		-	   -
:cmap  :cnoremap  :cunmap  :cmapclear	     -	       yes	   -
:lmap  :lnoremap  :lunmap  :lmapclear	    yes*       yes*	  yes*

Ô­Ê¼µÄViÃ»ÓĞ¶ÀÁ¢Õë¶Ô Normal/Visual/Operator-pending Ä£Ê½ºÍ
Insert/Command-line Ä£Ê½µÄÓ³Éä. Òò´Ë":map" ºÍ ":map!" ÃüÁî¶Ô²»Í¬µÄÄ£Ê½ÊäÈë
ºÍÏÔÊ¾Ó³Éä.ÔÚVimÖĞÄã¿ÉÒÔÊ¹ÓÃ ":nmap", ":vmap", ":omap", ":cmap" ºÍ ":imap"
ÃüÁîÀ´¶ÔÃ¿¸ö²»Í¬µÄÄ£Ê½ÊäÈëÓ³Éä.

ÒªÎªNormalºÍVisualÄ£Ê½µ«²»°üÀ¨Operator-pendingÄ£Ê½ÊäÈëÒ»¸öÓ³Éä, Ê×ÏÈÔÚËùÓĞµÄ
Èı¸öÄ£Ê½ÖĞÎªËü¶¨Òå, È»ºóÎªËüÔÚOperator-pendingÄ£Ê½ÖĞÈ¡ÏûÓ³Éä:
	:map    xx something-difficult
	:ounmap xx
¶ÔÓÚÒ»¸ö Visual ºÍ Operator-pendingÄ£Ê½»òNormalºÍOperator-pendingÄ£Ê½µÄÓ³Éä
Ò²Ò»Ñù.

						*language-mapping*
":lmap" ¶¨ÒåÒ»¸öÓ³ÉäÓ¦ÓÃÓÚ:
- Insert Ä£Ê½
- Command-line Ä£Ê½
- µ±ÊäÈëÒ»¸öËÑË÷Ä£Ê½
- ½ÓÊÜÒ»¸öÎÄ±¾×Ö·û×÷Îª²ÎÊıµÄÃüÁî, ±ÈÈç "r" ºÍ "f"
- ¶ÔÓÚ input() ĞĞ
Í¨³£: ²»ÂÛºÎÊ±±»ÊäÈëµÄ×Ö·ûÊÇ»º³åÇøÎÄ±¾µÄÒ»²¿·Ö, ¶ø·ÇÒ»¸öVimÃüÁî×Ö·û.
"Lang-Arg" ²»ÊÇÕæÕıµÄÁíÍâÒ»¸öÄ£Ê½, ËüÔÚÕâÀï½öÔÚÕâÖÖÇé¿öÏÂ±»Ê¹ÓÃ.
   ÔØÈëÒ»¸öÏà¹ØÓïÑÔÓ³Éä¼¯ºÏµÄ×î¼òµ¥µÄ·½·¨ÊÇÍ¨¹ıÊ¹ÓÃ 'keymap' Ñ¡Ïî.
²Î¿¼ |45.5|.
   ÔÚ Insert Ä£Ê½ºÍCommand-lineÄ£Ê½ÖĞ¿ÉÒÔÓÃ CTRL-^ ÃüÁîÀ´½ûÖ¹Ó³Éä
|i_CTRL-^| |c_CTRL-^|.  µ±¿ªÊ¼ÊäÈëÒ»¸öÆÕÍ¨ÃüÁîĞĞ (·ÇËÑË÷Ä£Ê½) ,Ó³Éä±»½ûÖ¹
Ö±µ½ÊäÈëÒ»¸ö CTRL-^.  ÉÏ´ÎÊ¹ÓÃµÄ×´Ì¬ÔÚ Insert Ä£Ê½ºÍËÑË÷Ä£Ê½ÖĞ±»µ¥¶À¼ÇÂ¼.
Insert Ä£Ê½µÄ×´Ì¬Ò²±»ÓÃÓÚµ±ÊäÈëÒ»¸ö×Ö·û×÷Îª "f" »ò "t" Ö®ÀàÃüÁîµÄ²ÎÊıÊ±.
   µ±¼ÓÈëÒ»¸ö ":lmap" Ó³ÉäÔÚInsert Ä£Ê½ºÍËÑË÷Ä£Ê½ÖĞÕâĞ©Ó³Éä½«±»´ò¿ª.
   ÓïÑÔÓ³ÉäÓÀÔ¶²»ÄÜÓ¦ÓÃÓÚÒÑ¾­Ó³ÉäµÄ×Ö·ûÉÏ.  ËüÃÇ½öÓÃÓÚÒÑ¾­ÊäÈëµÄ×Ö·ûÉÏ.
¼ÙÉèÓïÑÔÓ³ÉäÒÑ¾­Íê³Éµ±ÊäÈëÓ³ÉäÊ±.

							*map-multibyte*
¿ÉÒÔ¶Ô¶à×Ö½Ú×Ö·ûÓ³Éä, µ«Ö»ÄÜÊÇÕû¸ö×Ö·û. ²»ÄÜ½öÓ³ÉäµÚÒ»¸ö×Ö½Ú.
ÕâÊÇÎªÁË±ÜÃâÏÂÃæ³¡¾°ÖĞµÄÎÊÌâ:
	:set encoding=latin1
	:imap <M-C> foo
	:set encoding=utf-8
¶ÔÓÚ <M-C> µÄÓ³ÉäÊÇÔÚ latin1 ½âÂëÖĞ±»¶¨ÒåµÄ, ½á¹ûÊÇÒ»¸ö 0xc3 ×Ö½Ú.
Èç¹ûÄãÔÚUTF-8½âÂëÖĞÊäÈë á (0xea <M-a>) ËüÊÇË«×Ö½Ú 0xc3 0xa1.
Õâ¸öÊ±ºòÄã²»Ï£Íû 0xc3 ×Ö½Ú±»Ó³Éä, ·ñÔòµÄ»°½«²»ÄÜÊäÈë ? ×Ö·ûÁË.

							*map-listing*
µ±ÁĞ³öÓ³ÉäÊ±, Ç°ÃæÁ½À¸µÄ×Ö·û±íÊ¾:

      CHAR	MODE	~
     <Space>	Normal, Visual ºÍ Operator-pending
	n	Normal
	v	Visual
	o	Operator-pending
	!	Insert ºÍ Command-line
	i	Insert
	l	":lmap" Îª Insert, Command-line ºÍ Lang-ArgÓ³Éä
	c	Command-line

ÔÚ½ô¸ú {rhs} »áÏÔÊ¾Ò»¸öÌØÊâ×Ö·û:
	*	±íÊ¾Ëü²»¿ÉÖØÓ³Éä
	&	±íÊ¾½ö script-local Ó³Éä¿ÉÒÔ±»ÖØÓ³Éä
	@	±íÊ¾Ò»¸ö buffer-local Ó³Éä

{lhs} ´ÓÒÔºóµÄµÚÒ»¸ö·Ç¿Õ×Ö·ûµ½ĞĞµÄÄ©Î²(»ò '|') ¶¼±»ÈÏÎªÊÇ {rhs} µÄÒ»²¿·Ö.
ÕâÔÊĞí {rhs} ÒÔÒ»¸ö¿Õ¸ñ½áÎ².

×¢Òâ: ÔÚ Visual Ä£Ê½ÀïÊ¹ÓÃÓ³ÉäÊ±, Äã¿ÉÒÔÊ¹ÓÃ "'<" ±ê¼Ç, Ëü±íÊ¾µ±Ç°»º³åÇøÖĞ
×îºó±»Ñ¡ÖĞµÄ Visual ÇøÓòµÄ¿ªÊ¼ |'<|.

							*map_backslash*
×¢ÒâÔÚÕâÀï½öÓĞ CTRL-V ±»Ìá¼°×÷ÎªÓ³ÉäºÍËõĞ´Ê±µÄÒ»¸öÌØÊâ×Ö·û.
µ± 'cpoptions' ²»°üº¬ 'B', Ò»¸ö·´Ğ±¸ÜÒ²¿ÉÈç CTRL-V Ò»Ñù±»Ê¹ÓÃ.
¶øÇÒ <> ·ûºÅÄÜ±»ÍêÈ«¿ÉÒÔ±»Ê¹ÓÃ |<>|.
µ«Äã²»ÄÜÊ¹ÓÃ "<C-V>" Èç CTRL-V À´×ª»»ºóÃæµÄÌØÊâº¬Òå.

ÒªÓ³ÉäÒ»¸ö·´Ğ±¸Ü, »òÕßÔÚ {rhs} ÖĞÊ¹ÓÃÒ»¸ö×ÖÃæÒâÒåµÄ·´Ğ±¸Ü, ¿ÉÒÔÊ¹ÓÃÌØÊâ×Ö·û
ĞòÁĞ "<Bslash>" .  Õâ¿ÉÒÔ±ÜÃâÔÚÊ¹ÓÃÇ¶Ì×Ó³ÉäÊ±ĞèÒªÊ¹ÓÃË«·´Ğ±¸Ü.

							*map-ambiguous*
µ±Á½¸öÓ³ÉäÒÔÏàÍ¬µÄ×Ö·ûË³Ğò¿ªÊ¼,ËüÃÇÊÇº¬ºıµÄ.
ÀıÈç: >
	:imap aa foo
	:imap aaa bar
µ± Vim ¶ÁÈç "aa", Ëü½«ĞèÒªÈ¡µÃÁíÍâÒ»¸ö×Ö·û²ÅÄÜ¾ö¶¨ÊÇ·ñÊÇ "aa" »òÊÇ "aaa"
Ó¦¸Ã±»Ó³Éä. ÕâÒâÎ¶Õâµ±ÊäÈë "aa" ÒÔºóÓ³Éä»¹²»»áÕ¹¿ª, Vim»¹ÔÚµÈ´ıÁíÒ»¸ö×Ö·û.
Èç¹ûÄãÊäÈëÒ»¸ö¿Õ¸ñ, ÄÇÃ´ "foo" ½«±»²åÈë, ¶ø²»ÊÇ¿Õ¸ñ. Èç¹ûÄãÊäÈëÒ»¸ö "a",
ÄÇÃ´ "bar" ½«±»²åÈë.
{Vi does not allow ambiguous mappings}

							*map_CTRL_C*
ÔÚ {lhs} ÖĞ²»¿ÉÄÜÊ¹ÓÃÒ»¸ö CTRL-C.  Äã²»ÄÜÓ³Éä CTRL-C.
Ô­ÒòÊÇ CTRL-C ±ØĞè×ÜÊÇÄÜ¹»ÖĞ¶ÏÒ»¸öÔËĞĞÖĞµÄÃüÁî.
ÀıÍâ: µ±ÔÚMS-WindowsÉÏÊ¹ÓÃ GUI °æ±¾Ê± CTRL-C ÄÜ±»Ó³ÉäÀ´ÔÊĞíÒ»¸öCopyÃüÁîµ½
¼ô²Ã°å. Ê¹ÓÃ CTRL-Break À´ÖĞ¶Ï Vim.

							*map_space_in_lhs*
ÒªÔÚ {lhs} ÖĞ°üº¬Ò»¸ö¿Õ¸ñ, ÔÚÇ°ÃæÊäÈëÒ»¸ö CTRL-V (Ã¿¸ö¿Õ¸ñÊäÈëÁ½¸ö CTRL-Vs).
							*map_space_in_rhs*
Èç¹ûÄãĞèÒª {rhs} ÒÔ¿Õ¸ñ¿ªÍ·, Ê¹ÓÃ "<Space>".  ÒªÓëViÍêÈ«¼æÈİ (µ«²»¿É¶Á),
²»ÒªÊ¹ÓÃ |<>| ·ûºÅ, ÔÚ {rhs} Ç°ÃæÊäÈëÒ»¸öµ¥¶ÀµÄ CTRL-V
(Äã±ØĞèÊäÈë CTRL-V Á½´Î).
							*map_empty_rhs*
Äã¿ÉÒÔÍ¨¹ıÔÚÒ»¸öµ¥¶ÀµÄ CTRL-V (Äã±ØĞèÊäÈë CTRL-V Á½´Î) ºóÃæÊ²Ã´Ò²²»ÊäÈë
À´½¨Á¢Ò»¸ö¿ÕµÄ {rhs}. ²»ĞÒµÄÊÇÔÚÒ»¸övimrcÎÄ¼şÖĞÄã²»ÄÜÊ¹ÓÃÕâÖÖ·½Ê½.
							*<Nop>*
µÃµ½Ò»¸öÊ²Ã´¶¼²»×öµÄÓ³ÉäµÄ¸üÈİÒ×µÄÒ»¸ö·½·¨ÊÇÔÚ {rhs} ÖĞÊ¹ÓÃ "<Nop>".
½öµ± |<>| ·ûºÅ±»ÔÊĞíÊ±ÕâÖÖ·½·¨²ÅÉúĞ§.  ÀıÈçÈ·±£¹¦ÄÜ¼üF8Ê²Ã´ÊÂÇé¶¼²»×ö:
	:map  <F8>  <Nop>
	:map! <F8>  <Nop>

					*<Leader>* *mapleader*
Òª¶¨ÒåÒ»¸öÊ¹ÓÃ "mapleader" ±äÁ¿µÄÓ³Éä, ¿ÉÒÔÊ¹ÓÃÌØÊâ×Ö´® "<Leader>".
Ëü»á±» "mapleader" µÄ×Ö´®ÖµËùÌæ»». Èç¹û "mapleader" Î´ÉèÖÃ»òÎª¿Õ,ÔòÓÃ
·´Ğ±¸Ü´úÌæ, ÀıÈç:
	:map <Leader>A  oanother line<Esc>
ºÍÏÂÃæÒ»Ñù: >
	:map \A  oanother line<Esc>
µ«ÊÇµ±: >
	:let mapleader = ","
ºÍÏÂÃæÒ»Ñù: >
	:map ,A  oanother line<Esc>

×¢Òâ "mapleader" µÄÖµ½öµ±¶¨ÒåÓ³ÉäÊ±±»Ê¹ÓÃ. ºóÀ´¸Ä±äµÄ "mapleader" ²»»á
Ó°ÏìÒÑ¶¨ÒåµÄÓ³Éä.

					*<LocalLeader>* *maplocalleader*
ºÍ <Leader> ÀàËÆ, ³ıÁËËüÊ¹ÓÃ "maplocalleader" ¶ø·Ç "mapleader".
<LocalLeader> ÓÃÀ´Õë¶Ô¾Ö²¿ÓÚÒ»¸ö»º³åµÄÓ³Éä¶àËùÊ¹ÓÃ, ÀıÈç: >
      :map <LocalLeader>q  \DoItNow
<
ÔÚÒ»¸öÈ«¾Ö²å¼şÀïÓ¦¸ÃÊ¹ÓÃ <Leader> ¶øÔÚÒ»¸ö filetype ²å¼şÀïÓ¦¸ÃÊ¹ÓÃ
<LocalLeader>.  "mapleader" ºÍ "maplocalleader" ¿ÉÒÔÊÇÏàÍ¬µÄ. ¾¡¹ÜÈç´Ë, Èç¹ûÄã
°ÑËüÃÇÉèÖÃÎª²»Í¬, È«¾Ö²å¼şºÍfiletype²å¼şµÄÓ³Éä³åÍ»µÄ»ú»áÒ²ÊÇºÜĞ¡µÄ. ÀıÈç, Äã
¿ÉÒÔ±£³Ö°Ñ "mapleader" ÉèÖÃÎªÈ±Ê¡µÄ·´Ğ±¸Ü, ²¢ÇÒÉèÖÃ "maplocalleader" ÉèÖÃÎª
ÏÂ»®Ïß.

							*map-<SID>*
ÔÚÒ»¸ö½Å±¾ÖĞÓĞÒ»¸öÌØÊâ¹Ø¼ü×Ö½Ğ "<SID>" ÄÜ±»ÓÃÀ´¶¨ÒåÒ»¸ö¾Ö²¿ÓÚ½Å±¾ÖĞµÄÓ³Éä.
¾ßÌåÏ¸½ÚÇë²Î¿¼ |<SID>|.

							*<Plug>*
½Ğ×ö "<Plug>" µÄÌØÊâ¹Ø¼ü×Ö¿ÉÒÔÓÃÓÚÒ»¸öÄÚ²¿Ó³Éä, Ëü²»ÓÚÈÎºÎ¼üË³ĞòÆ¥Åä.
ÕâÔÚ²å¼şÖĞÓĞÓÃ |using-<Plug>|.

							*<Char>* *<Char->*
ÒªÒÔÒ»¸ö×Ö·ûµÄÊ®½øÖÆ, °Ë½øÖÆ»òÊ®Áù½øÖÆÊı×ÖÓ³Éä, ¿ÉÒÔÊ¹ÓÃ <Char> À´¹¹Ôì:
	<Char-123>	character 123
	<Char-033>	character 27
	<Char-0x7f>	character 127
Ëü¿ÉÒÔÓÃÀ´ÔÚÒ»¸ö 'keymap' ÎÄ¼şÀïÖ¸¶¨Ò»¸ö (¶à×Ö½Ú) ×Ö·û. ´óĞ¡Ğ´µÄÇø±ğ±»ºöÂÔ.

							*map-comments*
ÔÚÕâĞ©ÃüÁîµÄºóÃæ²»¿ÉÄÜ·ÅÖÃ×¢ÊÍ, ÒòÎª '"' ×Ö·û±»ÈÏÎªÊÇ {lhs} »ò {rhs}
µÄÒ»²¿·Ö.

							*map_bar*
ÒòÎª×Ö·û '|' ÓÃÀ´·Ö¸ôÓ³ÉäÃüÁîºÍºóÃæµÄÃüÁî, ËùÒÔ°üÀ¨ '|' µÄ {rhs} Òª
×öÒ»Ğ©ÌØÊâµÄ´¦Àí, ÓĞÈıÖÖ·½·¨:
   use	     works when			   example	~
   <Bar>     '<' is not in 'cpoptions'	   :map _l :!ls <Bar> more^M
   \|	     'b' is not in 'cpoptions'	   :map _l :!ls \| more^M
   ^V|	     always, in Vim and Vi	   :map _l :!ls ^V| more^M

(ÕâÀï ^V ±íÊ¾ CTRL-V; ÒªÊäÈëÒ»¸ö CTRL-V Äã±ØĞè°´¼üÁ½´Î; ÔÚÕâÀï²»ÄÜÊ¹ÓÃ
 <> ·ûºÅ "<C-V>").

µ±ÄãÊ¹ÓÃ 'cpoptions' µÄÈ±Ê¡ÉèÖÃÊ±ÈıÖÖ·½Ê½¶¼¿ÉÒÔÕı³£¹¤×÷.

µ± 'b' ³öÏÖÔÚ 'cpoptions' ÖĞÊ±, "\|" »á±»ÈÏÎªÊÇÒ»¸öÓ³ÉäµÄ½áÊø, ºóÃæµÄ
ÊÇÁíÒ»¸öÃüÁî. ÕâÊÇÎªÁËºÍVi¼æÈİ, µ«ÊÇµ±ºÍÆäËüÃüÁî±È½ÏÊ±ÓĞµã²»ºÏÂß¼­.

							*map_return*
µ±ÄãµÄÒ»¸öÓ³Éä°üº¬Ò»¸ö Ex ÃüÁîÊ±, ÄãĞèÒª·ÅÖÃÒ»¸öĞĞÖÕ½á·ûÔÚËüºóÃæ²ÅÄÜÈÃËüÖ´ĞĞ.
ÔÚÕâÀïÍÆ¼öÍÆ¼öÊ¹ÓÃ <CR>  (²Î¿¼ |<>|).  ÀıÈç: >
   :map  _ls  :!ls -l %<CR>:echo "the end"<CR>

ÔÚCommand-lineÄ£Ê½ÖĞÊäÈëÊ±Òª±ÜÃâ×Ö·û±»Ó³Éä, ¿ÉÒÔÏÈÊäÈëÒ»¸ö CTRL-V.
ÔÚInsertÄ£Ê½ÖĞÈç¹û 'paste' Ñ¡Ïî±»´ò¿ªµÄ»°, Ó³Éä»á±»½ûÖ¹.

×¢Òâµ±Óöµ½´íÎóÊ± (»áµ¼ÖÂÒ»¸ö´íÎóĞÅÏ¢»ò·äÃù) Ê£ÏÂµÄÓ³Éä½«²»»á±»Ö´ĞĞ.
ÕâÊÇÎªÁË±£³ÖºÍVi¼æÈİ.

×¢ÒâÕâĞ©ÃüÁî @zZtTfF[]rm'`"v µÄµÚ¶ş¸ö×Ö·û (²ÎÊı) ºÍ CTRL-X ²»±»Ó³Éä.
ÕâÑù×öÊÇÎªÁËÄÜ¹»Ê¹ÓÃËùÓĞµÄÃüÃû¼Ä´æÆ÷ºÍ±ê¼Ç, ÉõÖÁµ±Í¬ÑùµÄÃû×Ö±»Ó³ÉäÊ±
Ò²ÊÇÈç´Ë.

							*map-which-keys*
Èç¹ûÄãÒª×öÒ»Ğ©Ó³Éä, ÄãµÃÑ¡ÔñÔÚ {lhs} ÖĞÒªÓÃÄÄĞ©¼ü. ÄãÓ¦¸Ã±ÜÃâÊ¹ÓÃ Vim ÃüÁîËù
Ê¹ÓÃµÄÄÇĞ©¼ü. ·ñÔòÄã½«²»ÔÙÄÜÊ¹ÓÃÕâĞ©ÃüÁîÁË. ÏÂÃæÊÇÒ»Ğ©½¨Òé:
- ¹¦ÄÜ¼ü <F2>, <F3>, µÈµÈ..  ºÍShift¼Ó¹¦ÄÜ¼ü <S-F1>,
  <S-F2>, µÈµÈ.  ×¢Òâ <F1> ÒÑ¾­ÓÃ×öÁË°ïÖúÃüÁî.
- Meta¼ü (ºÍ ALT ¼üÒ»Æğ°´ÏÂ).
- Ê¹ÓÃ '_' »ò ',' ×Ö·ûÈ»ºó¼ÓÉÏÈÎºÎÆäËüµÄ×Ö·û. "_" ºÍ "," ÃüÁîÔÚ Vim ÖĞÊÇ´æÔÚ
  µÄ (²Î¿¼ |_| ºÍ |,|), µ«ÄãÒ²ĞíÓÀÔ¶²»»áÓÃµ½ËüÃÇ.
- Ê¹ÓÃÒ»¸ö¼ü×÷ÎªÆäËüÃüÁîµÄÍ¬Òå×Ö.  ÀıÈç: CTRL-P ºÍ
  CTRL-N.  Ê¹ÓÃ¸ü¶àµÄ×Ö·û×ö¸ü¶àµÄÓ³Éä.

²Î¿¼ÎÄ¼ş "index" ¿ÉÒÔÖªµÀÄÄĞ©¼üÃ»ÓĞ±»Ê¹ÓÃ´Ó¶øÊ¹Ó³Éä²»»á¸²¸ÇÈÎºÎÄÚ½¨µÄ¹¦ÄÜ.
Ò²¿ÉÊ¹ÓÃ ":help {key}^D" À´ÕÒ³öÊÇ·ñÒ»¸ö¼üÒÑ¾­ÓÃÓÚÄ³Ğ©ÃüÁî.
({key} ÓÃÓÚÖ¸¶¨ÄãÒªÑ°ÕÒµÄ¼ü, ^D ÊÇ CTRL-D).

							*map-examples*
ÒÔÏÂÊÇÒ»Ğ©Àı×Ó (ÕÕ×ÖÃæÊäÈëËüÃÇ, ¶ÔÓÚ "<CR>" ÄãÊäÈëËÄ¸ö×Ö·û;
µ± '<' ±êÖ¾²»³öÏÖÔÚ 'cpoptions' ÖĞÊ±ËüÃÇÄÜÕı³£¹¤×÷). >

   :map <F3>  o#include
   :map <M-g> /foo<CR>cwbar<Esc>
   :map _x    d/END/e<CR>
   :map! qq   quadrillion questions
<
							*map-typing*
µ±ÄãÊäÈëÒ»¸öÓ³Éä¼üË³ĞòÊ± Vim »á±È½ÏÄãµÄÊäÈë.  Èç¹û»¹²»Æ¥Åä, Ëü»áµÈ´ı¸ü¶àµÄ
×Ö·ûÊäÈëÖ±µ½¿ÉÒÔÈ·¶¨ÊÇ·ñÆ¥Åä. ÀıÈç: Èç¹ûÄãÓ³ÉäÁË map! "qq", È»ºóÄãÊäÈëµÄµÚ
Ò»¸ö 'q' ½«²»»áÏÔÊ¾ÔÚÆÁÄ»ÉÏÖ±µ½ÄãÊäÈëÁíÒ»¸ö 'q' »òÆäËü×Ö·û. Èç¹û´ò¿ªÁË
'timeout' Ñ¡Ïî (ÕâÊÇÈ±Ê¡Ñ¡Ïî) Vim ½ö»áµÈ´ıÒ»ÃëÖÓ (»òÕßµÈ´ı 'timeoutlen' Ëù
Ö¸¶¨µÄÊ±¼ä). È»ºó¼ÙÉè 'q' ÒÑ¾­²»»áÔÙ±»ÊäÈë. Èç¹ûÄãµÄÊäÈëºÜÂı, »òÕßÄãµÄÏµÍ³
ºÜÂı, ÖØÖÃ 'timeout' Ñ¡Ïî. »òÕßÄã¿ÉÄÜĞèÒªÉèÖÃ 'ttimeout' Ñ¡Ïî.

							*map-keys-fails*
ÓĞÒ»ÖÖÇé¿ö¼ü±àÂë¿ÉÄÜ²»±»Ê¶±ğ:
- Vim ½öÄÜ¶ÁÈ¡²¿·ÖµÄ¼ü±àÂë.  Í¨³£½ö½öÊÇµÚÒ»¸ö×Ö·û. ÔÚÄ³Ğ© Unix °æ±¾µÄ xterm
  ÉÏÓĞÕâÖÖÇé¿ö.
- ¼ü±àÂëºóÃæµÄ×Ö·ûÒÑ¾­±»Ó³Éä.  ¾ÙÀıÀ´Ëµ, "<F1><F1>" »ò "g<F1>".
Æä½á¹ûÊÇÔÚÕâÖÖÇé¿öÏÂ¼ü±àÂë²»»á±»Ê¶±ğ, ËùÒÔÓ³ÉäÊ§°Ü.
ÓĞÁ½ÖÖ·½·¨¿ÉÒÔ±ÜÃâÕâÖÖÎÊÌâ:
- ´Ó 'cpoptions' ÖĞÉ¾³ı 'K' ±êÖ¾.  Õâ»áÊ¹ Vim µÈ´ı¹¦ÄÜ¼üÊ£ÏÂµÄ²¿·Ö.
- <F1> µ½ <F4> Êµ¼Ê²úÉúµÄ¼ü±àÂëÓë <xF1> µ½ <xF4> ·ûºÏ.
  ÕâÊÇ <xF1> µ½ <F1>, <xF2> µ½ <F2> µÄÓ³Éä, µÈµÈ, µ«ÊÇÕâÔÚÓ³ÉäµÄÁíÒ»°ë²»»á±»
  Ê¶±ğ.  È·ÈÏ´Ó <F1> µ½ <F4> µÄ¼ü±àÂëÊÇÕıÈ·µÄ: >
	:set <F1>=<type CTRL-V><type F1>
< ÒÔËÄ¸ö×Ö·ûÊäÈë <F1>.  "=" ºÅºóÃæµÄ²¿·Ö±ØĞèÒÔÊµ¼ÊµÄ×Ö·ûÊäÈë,
  ¶ø²»ÊÇ×ÖÃæµÄÎÄ±¾.
ÁíÒ»ÖÖ½â¾ö·½·¨ÊÇÔÚÓ³ÉäÖĞÎªµÚ¶ş¸öÌØÊâ¼üÊ¹ÓÃÊµ¼ÊµÄ¼ü±àÂë: >
	:map <F1><Esc>OP :echo "yes"<CR>
²»ÒªÊäÈëÒ»¸öÕæÕıµÄ <Esc>, ×ÜÖ® Vim ½«Ê¶±ğ¼ü±àÂë²¢°ÑËüÌæ»»Îª <F1>.

						*recursive_mapping*
Èç¹û {rhs} ÖĞ°üÀ¨ÁË {lhs} ÄÇÃ´¾ÍÊÇÒ»¸öµİ¹éÓ³Éä.  µ± {lhs} ±»ÊäÈë,
Ëü»á±»Ìæ»»³É {rhs}.  µ±Óöµ½ {rhs} ÖĞ°üº¬µÄ {lhs} Ëü»á±»Ìæ»»³É {rhs},
ÒÀ´ËÀàÍÆ.
Õâ¿ÉÄÜ»áÊ¹Ò»¸öÃüÁî±»ÖØ¸´ÎŞÊı´Î.  ÕâÖÖÇé¿öÎ¨Ò»µÄÎÊÌâÊÇ³ö´íÊÇÍ£Ö¹ËüµÄÎ¨Ò»·½·¨.
ÓĞÒ»Ğ©ºêÓÃÀ´½â¾öÕâÖÖ»ìÂÒÇé¿ö, ¿´ÏÂÃæµÄÀı×Ó. ÓĞÒ»¸öÀıÍâ: Èç¹û {rhs} ÒÔ {lhs}
¿ªÊ¼, µÚÒ»¸ö×Ö·û²»»á±»ÔÙ´ÎÓ³Éä (ÕâÓë Vi ¼æÈİ).
ÀıÈç: >
   :map ab abcd
½«Ö´ĞĞ "a" ÃüÁî²¢ÇÒÔÚÎÄ±¾ÖĞ²åÈë "bcd".  {rhs} ÖĞµÄ "ab" ²»»á±»ÔÙ´ÎÓ³Éä.

Èç¹ûÄãÒª½»»»Á½¸ö¼üµÄº¬ÒåÓ¦¸ÃÊ¹ÓÃ :noremap ÃüÁî.  ÀıÈç: >
   :noremap k j
   :noremap j k
Õâ»á½»»»¹â±êÉÏÒÆºÍ¹â±êÏÂÒÆÃüÁî.

Èç¹ûÊ¹ÓÃÆÕÍ¨ :map ÃüÁî, ²¢ÇÒ 'remap' Ñ¡Ïî±»´ò¿ª, Ó³ÉäÒ»Ö±½øĞĞÖ±µ½ÎÄ±¾²»ÔÙÊÇ
{lhs} µÄÒ»²¿·Ö.  ÀıÈç, Èç¹ûÄãÓÃ: >
   :map x y
   :map y x
Vim ½«°Ñ x Ìæ»»³É y, ²¢°Ñ y Ìæ»»³É x, µÈµÈ.  ÕâÖÖÇé¿ö»á·¢Éú
'maxmapdepth' ´Î (È±Ê¡Îª 1000), È»ºó Vim »á¸ø³ö´íÎóĞÅÏ¢ "recursive mapping"
(µİ¹éÓ³Éä).

							*:map-undo*
Èç¹ûÄãÔÚÒ»¸ö±»Ó³ÉäµÄĞòÁĞÖĞ°üº¬ÁËÒ»¸ö undo ÃüÁî, ½«»á°ÑÎÄ±¾´ø»ØºêÖ´ĞĞÇ°µÄ×´Ì¬
ÕâºÍÔ­Ê¼µÄ Vi ÊÇ¼æÈİµÄ, Ö»Òª±»Ó³ÉäµÄĞòÁĞ½ö°üº¬Ò»¸ö undo ÃüÁî (Ô­Ê¼µÄ Vi ÖĞ
±»Ó³ÉäµÄĞòÁĞÓĞÁ½¸ö undo ÃüÁîÊÇÎŞÒâÒåµÄ, ÔÚµÚÒ»¸ö undo ´¦Äã¾Í»á»Øµ½ÎÄ±¾).

							*:map-special-keys*
ÓĞÈıÖĞ·½·¨À´Ó³ÉäÒ»¸öÌØÊâ¼ü:
1. Vi ¼æÈİµÄ·½·¨: Ó³Éä¼ü±àÂë.  Í¨³£ÕâÊÇÒ»¸öÒÔ <Esc> ¿ªÍ·µÄĞòÁĞ. ÒªÊäÈëÒ»¸ö
   ÕâÑùµÄÓ³ÉäÏÈÊäÈë ":map " È»ºóÔÙÇÃÈë¹¦ÄÜ¼üÖ®Ç°µÃÏÈÊäÈëÒ»¸ö CTRL-V .  ×¢Òâ
   ÕâÊ±¼üµÄ±àÂëÊÇÔÚ termcap (the t_ options) Àï, Ëü»á±»×Ô¶¯×ª»»µ½ÄÚ²¿±àÂë²¢it will
   ±ä³ÉÓ³ÉäµÄµÚ¶şÖÖ·½·¨ (³ı·Ç 'cpoptions' Àï°üÀ¨ÁË 'k' ±êÖ¾).
2. µÚ¶şÖÖ·½·¨ÊÇÎª¹¦ÄÜ¼üÊ¹ÓÃÄÚ²¿±àÂë.  ÒªÊäÈëÕâÑùµÄÓ³ÉäÊäÈë CTRL-K ²¢ÇÃÒªÓ³Éä
   µÄ¹¦ÄÜ¼ü, »òÕßÊ¹ÓÃ "#1", "#2", .. "#9", "#0", "<Up>", "<S-Down>", "<S-F7>",
   µÈµÈµÄĞÎÊ½.(²Î¿¼¼ü±í |key-notation|, ËùÓĞ´Ó <Up> ¿ªÊ¼µÄ¼ü¶¼¿ÉÒÔÊ¹ÓÃ)
   enter such a mapping type CTRL-K and then hit the function key, or use
   the form "#1", "#2", .. "#9", "#0", "<Up>", "<S-Down>", "<S-F7>", etc.
   Í·Ê®¸ö¹¦ÄÜ¼üÄÜÒÔÁ½ÖÖ·½Ê½±»¶¨Òå: ½öÓÃÊı×Ö, ±ÈÈç "#2", »òÕßÊ¹ÓÃ"<F>", 
   Èç "<F2>". Á½ÖÖ¶¼´ú±í¹¦ÄÜ¼ü F2. "#0" ±íÊ¾¹¦ÄÜ¼ü F10, ÓÃÑ¡Ïî 't_f10' ¶¨Òå,
   ËüÔÚÄ³Ğ©¼üÅÌÉÏ¿ÉÄÜÊÇF0. <> µÄĞÎÊ½ÔÚ 'cpoptions' °üº¬ '<' ±êÖ¾Ê±²»ÄÜÊ¹ÓÃ.
3. Ê¹ÓÃ termcap ÌõÄ¿, ÒÔ <t_xx> µÄĞÎÊ½, ÕâÀï "xx" ÊÇ termcap ÌõÄ¿µÄÃû×Ö.
   ÈÎºÎ×Ö´®ÌõÄ¿¶¼¿ÉÒÔÊ¹ÓÃ.  ÀıÈç: >
     :map <t_F3> G
<  °Ñ¹¦ÄÜ¼ü 13 Ó³Éä³É "G".  µ± 'cpoptions' °üÀ¨ '<' ±êÖ¾Ê±ÕâÖÖ·½Ê½²»ÄÜÊ¹ÓÃ.

µÚ¶şÖÖºÍµÚÈıÖÖ·½·¨µÄÓÅµãÊÇ²»¼ÓĞŞ¸Ä¾Í¿ÉÒÔÔÚ²»Í¬µÄÖÕ¶ËÉÏÊ¹ÓÃ (¹¦ÄÜ¼ü»á±»×ª»»³É
ÏàÍ¬µÄÄÚ²¿±àÂë»òÊµ¼ÊµÄ¼ü±àÂë, ¶ø²»ÂÛÊ¹ÓÃºÎÖÖÖÕ¶Ë. termcap ±ØĞèÊÇÕıÈ·µÄ²ÅÄÜÕı
³£¹¤×÷, ²¢ÇÒ±ØĞèÊ¹ÓÃÏàÍ¬µÄÓ³Éä).

Ï¸½Ú: Vim Ê×ÏÈ¼ì²éÊÇ·ñ´Ó¼üÅÌÊäÈëµÄĞòÁĞÊÇ·ñÒÑ±»Ó³Éä.  ·ñµÄ»°½«ÊÔÍ¼Ê¹ÓÃÖÕ¶Ë¼ü±à
Âë (²Î¿¼ |terminal-options|).  Èç¹ûÒ»¸öÖÕ¶Ë¼ü±àÂë±»ÕÒµ½Ëü»á±»Ìæ»»³ÉÄÚ²¿±àÂë.
È»ºóÔÙ´Î¼ì²éÒ»¸öÓ³ÉäÊÇ·ñÒÑÍê³É (Òò´ËÄãÒ²ÄÜ°ÑÒ»¸öÄÚ²¿±àÂëÓ³Éä³ÉÆäËü¶«Î÷).
ÔÚ½Å±¾ÎÄ¼şÖĞĞ´ÈëÊ²Ã´¶«Î÷È¡¾öÓÚÊ¶±ğÁËÊ²Ã´¶«Î÷. Èç¹ûÖÕ¶Ë¼ü±àÂë±»Ê¶±ğÎªÒ»¸öÓ³Éä
Ëü±¾ÉíµÄ¼ü±àÂë»á±»Ğ´Èë½Å±¾. Èç¹ûËü±»Ê¶±ğÎªÒ»¸öÖÕ¶Ë±àÂëÔòÔÚ½Å±¾ÖĞĞ´ÈëÄÚ²¿±àÂë.

==============================================================================
2. ËõĞ´			*abbreviations* *Abbreviations*

ËõĞ´ÔÚ²åÈë, Ìæ»»ºÍÃüÁîĞĞÄ£Ê½ÖĞÊ¹ÓÃ. Èç¹ûÄãÊäÈëÒ»¸öÊÇËõĞ´µÄµ¥´Ê, Ëü»á±»Ìæ»»³É
Ëù±íÊ¾µÄ¶«Î÷. Õâ¿ÉÒÔÔÚ¾­³£ÊäÈëµÄ³¤µ¥´ÊÊ±½ÚÊ¡¼ü»÷. ²¢ÇÒÄÜÓÃËüÀ´×Ô¶¯¸üÕı¾­³£·¸
µÄÆ´Ğ´´íÎó. ÀıÈç:

	:iab ms MicroSoft
	:iab tihs this

ÓĞÈıÖÖÀàĞÍµÄËõĞ´:

full-id	  "full-id" ÀàĞÍÓÉËùÓĞ¼üÅÌ×Ö·û×é³É ('iskeyword' Ñ¡ÏîÀïµÄ×ÖÄ¸ºÍ×Ö·û).
	  ÕâÊÇ×îÆÕÍ¨µÄËõĞ´.

	  ÀıÈç: "foo", "g3", "-1"

end-id	  "end-id" ÀàĞÍÒÔÒ»¸ö¼üÅÌ×Ö·û½áÎ², µ«ËùÓĞÆäËü×Ö·û¶¼²»ÊÇ¼üÅÌ×Ö·û.

	  ÀıÈç: "#i", "..f", "$/7"

non-id	  "non-id" ÀàĞÍÒÔÒ»¸ö·Ç¼üÅÌ×Ö·û½áÎ², ÆäËü×Ö·û¿ÉÒÔÊÇÈÎÒâÀàĞÍ, ³ıÁË¿Õ¸ñ
	  ºÍ Tab.  {Vi ²»Ö§³ÖÕâÖÖÀàĞÍ}

	  ÀıÈç: "def#", "4/7$"

²»ÄÜ±»ËõĞ´µÄ×Ö´®Àı×Ó: "a.b", "#def", "a b", "_$r"

½öµ±ÄãÊäÈëÒ»¸ö·Ç¼üÅÌ×Ö·ûÊ±ËõĞ´²Å»á±»Ê¶±ğ. »òÕßÓÃ <Esc> ÍË³ö²åÈëÄ£Ê½»òÓÃ <CR>
½áÊøÒ»¸öÃüÁî. ½áÊøËõĞ´µÄ·Ç¼üÅÌ×Ö·û±»²åÈëµ½ËõĞ´µÄÀ©Õ¹ºóÃæ. Ò»¸öÀıÍâÊÇ×Ö·û <C-]>,
ËüÓÃÀ´²»²åÈëÈÎºÎ¸½¼Ó×Ö·ûÊ±À©Õ¹Ò»¸öËõĞ´.

ÀıÈç: >
   :ab hh	hello
<	    "hh<Space>" ±»À©Õ¹Îª "hello<Space>"
	    "hh<C-]>" ±»À©Õ¹Îª "hello"

¹â±êÇ°µÄ×Ö·û±ØĞèºÍËõĞ´Æ¥Åä.  Ã¿ÖÖÀàĞÍ¶¼ÓĞÒ»¸ö¸½¼Ó¹æÔò:

full-id	  Æ¥ÅäµÄÇ°ÃæÊÇÒ»¸ö·Ç¼üÅÌ×Ö·û, »òÕßÊÇÔÚĞĞ»ò²åÈëµÄ¿ªÊ¼. ÀıÍâ: µ±ËõĞ´½ö
	  ÓĞÒ»¸ö×Ö·ûÊ±, Èç¹ûËüÇ°ÃæÓĞÒ»¸ö·Ç¼üÅÌ×Ö·ûÔò²»»á±»Ê¶±ğ, ³ıÁË¿Õ¸ñºÍ
	  <Tab>.

end-id	  Æ¥ÅäµÄÇ°ÃæÊÇÒ»¸ö¼üÅÌ×Ö·û, »òÕßÒ»¸ö¿Õ¸ñ»ò <Tab>,
	  »òÕßÊÇĞĞ»ò²åÈëµÄ¿ªÊ¼.

non-id	  Æ¥ÅäµÄÇ°ÃæÊÇÒ»¸ö¿Õ¸ñ, <Tab> »òÕßĞĞ»ò²åÈëµÄ¿ªÊ¼.

ÀıÈç: ({CURSOR} ÊÇÄãÊäÈëÒ»¸ö·Ç¼üÅÌ×Ö·ûµÄµØ·½) >
   :ab foo   four old otters
<		" foo{CURSOR}"	  ±»À©Õ¹Îª " four old otters"
		" foobar{CURSOR}" ²»±»À©Õ¹
		"barfoo{CURSOR}"  ²»±»À©Õ¹
>
   :ab #i #include
<		"#i{CURSOR}"	  ±»À©Õ¹Îª "#include"
		">#i{CURSOR}"	  ²»±»À©Õ¹
>
   :ab ;; <endofline>"
<		"test;;"	  ²»±»À©Õ¹
		"test ;;"	  ±»À©Õ¹Îª "test <endofline>"

Òª±ÜÃâÔÚ²åÈëÄ£Ê½ÖĞ±ÜÃâËõĞ´: ÊäÈëËõĞ´µÄÒ»²¿·Ö, ÒÔ <Esc> ÍË³ö²åÈëÄ£Ê½, ÔÙÓÃ 'a'
½øÈë²åÈëÄ£Ê½²¢ÊäÈëÊ£ÏÂµÄ²¿·Ö. »òÕßÔÚËõĞ´Ö®ºóµÄ×Ö·ûÇ°ÃæÊäÈë CTRL-V.
ÒªÔÚÃüÁîĞĞÄ£Ê½ÖĞ±ÜÃâËõĞ´: ÔÚËõĞ´µÄÄ³´¦ÊäÈë CTRL-V Á½´ÎÀ´±ÜÃâËü±»Ìæ»». ´ËÍâÒ»¸ö
ÆÕÍ¨×Ö·ûÇ°ÃæµÄ CTRL-V Í¨³£»á±»ºöÂÔ.

°Ñ¹â±êÒÆ¶¯µ½ËõĞ´µÄºóÃæÊÇ¿ÉÄÜµÄ: >
   :iab if if ()<Left>
Èç¹û 'cpoptions' ÀïÃæ°üº¬ '<' ±êÖ¾Ê±²»ÄÜÕı³£¹¤×÷. |<>|

ÄãÉõÖÁ¿ÉÒÔ×ö¸ü¸´ÔÓµÄÊÂÇé.  ÀıÈç, ÒªÏûÃğÒ»¸öËõĞ´ºóÃæÊäÈëµÄ¿Õ¸ñ:
   func Eatchar(pat)
      let c = nr2char(getchar())
      return (c =~ a:pat) ? '' : c
   endfunc
   iabbr <silent> if if ()<Left><C-R>=Eatchar('\s')<CR>

Ã»ÓĞÈ±Ê¡µÄËõĞ´.

ËõĞ´ÓÀÔ¶²»»áµİ¹é.  Äã¿ÉÒÔÉèÖÃ ":ab f f-o-o" ¶ø²»»áÓĞÈÎºÎÎÊÌâ. µ«ÊÇËõĞ´ÄÜ
±»Ó³Éä. {²»Çå³ıÔ­Òò, Ò»Ğ©°æ±¾µÄViÖ§³Öµİ¹éËõĞ´}

'paste' Ñ¡Ïî´ò¿ªÊ±, ËõĞ´±»½ûÖ¹.

				*:abbreviate-local* *:abbreviate-<buffer>*
ºÍÓ³ÉäÒ»Ñù, ËõĞ´¿ÉÒÔ±»¾Ö²¿ÓÚÒ»¸ö»º³åÖ®ÄÚ.  Õâ¾­³£±»ÓÃÓÚÒ»¸ö
|filetype-plugin| ÎÄ¼ş.  ÀıÈçÒ»¸ö C ²å¼şÎÄ¼ş: >
	:abb <buffer> FF  for (i = 0; i < ; ++i)
<
						*:ab* *:abbreviate*
:ab[breviate]		ÁĞ³öËùÓĞµÄËõĞ´.  µÚÒ»À¸ÖĞµÄ×Ö·û±íÊ¾¸ÃËõĞ´×÷ÓÃµÄÄ£Ê½:
			'i' Ö¸²åÈëÄ£Ê½, 'c' Ö¸ÃüÁîĞĞÄ£Ê½, '!' Ö¸Á½ÖÖÄ£Ê½¶¼ÓĞ.

:ab[breviate] {lhs}	ÁĞ³öÒÔ {lhs} ¿ªÍ·µÄËõĞ´

:ab[breviate] {lhs} {rhs}
			Ôö¼ÓÒ»¸ö´Ó {lhs} µ½ {rhs} µÄËõĞ´.  Èç¹û {lhs} ÒÑ¾­´æÔÚ
			ÔòËü»á±»Ìæ»»³ÉĞÂµÄ {rhs}.  {rhs} ¿ÉÄÜ°üº¬¿Õ¸ñ.

						*:una* *:unabbreviate*
:una[bbreviate] {lhs}	´ÓÁĞ±íÖĞÉ¾³ı {lhs} µÄËõĞ´

						*:norea* *:noreabbrev*
:norea[bbrev] [lhs] [rhs]
			Óë ":ab" Ò»Ñù, µ«ÊÇ²»ÎªÕâ¸ö {rhs} ÖØÓ³Éä {not ni Vi}

						*:ca* *:cabbrev*
:ca[bbrev] [lhs] [rhs]	Óë ":ab" Ò»Ñù, µ«½öÔÚÃüÁîĞĞÄ£Ê½ÖĞÊ¹ÓÃ.  {not in Vi}

						*:cuna* *:cunabbrev*
:cuna[bbrev] {lhs}	Óë ":una" Ò»Ñù, µ«½öÔÚÃüÁîĞĞÄ£Ê½ÖĞÊ¹ÓÃ.  {not in Vi}

						*:cnorea* *:cnoreabbrev*
:cnorea[bbrev] [lhs] [rhs]
			Óë ":ab" Ò»Ñù, µ«½öÔÚÃüÁîĞĞÄ£Ê½ÖĞÊ¹ÓÃ²¢ÇÒ²»ÎªÕâ¸ö
			{rhs} ÖØÓ³Éä. {Vi ÖĞÃ»ÓĞ}

						*:ia* *:iabbrev*
:ia[bbrev] [lhs] [rhs]	Óë ":ab" Ò»Ñù, µ«½öÔÚ²åÈëÄ£Ê½ÖĞÊ¹ÓÃ.  {not in Vi}

						*:iuna* *:iunabbrev*
:iuna[bbrev] {lhs}	Óë ":una" Ò»Ñù, µ«½öÔÚ²åÈëÄ£Ê½ÖĞÊ¹ÓÃ.  {not in
			Vi}

						*:inorea* *:inoreabbrev*
:inorea[bbrev] [lhs] [rhs]
			Óë ":ab" Ò»Ñù, µ«½öÔÚ²åÈëÄ£Ê½ÖĞÊ¹ÓÃ²¢ÇÒ
			²»ÎªÕâ¸ö {rhs} ÖØÓ³Éä. {not in Vi}

							*:abc* *:abclear*
:abc[lear]		É¾³ıËùÓĞµÄËõĞ´.  {not in Vi}

							*:iabc* *:iabclear*
:iabc[lear]		Îª²åÈëÄ£Ê½É¾³ıËùÓĞµÄËõĞ´.  {not in Vi}

							*:cabc* *:cabclear*
:cabc[lear]		ÎªÃüÁîĞĞÄ£Ê½É¾³ıËùÓĞµÄËõĞ´.  {not
			in Vi}

							*using_CTRL-V*
ÔÚÒ»¸öËõĞ´µÄ {rhs} ÖĞÊ¹ÓÃÌØÊâ×Ö·ûÊÇ¿ÉÄÜµÄ. CTRL-V ¿ÉÒÔÓÃÀ´±ÜÃâ¶àÊı·Ç´òÓ¡×Ö·û
µÄÌØÊâº¬Òå. ĞèÒªÊäÈë¶àÉÙ¸ö CTRL-V È¡¾öÓÚÄãÈçºÎÊäÈëËõĞ´. ÕâÔÚÓ³ÉäÖĞÒ²¿ÉÒÔÓ¦ÓÃ.
ÕâÀïÊ¹ÓÃÒ»¸öÀı×ÓËµÃ÷.

¼ÙÉèÄãĞèÒª°Ñ "esc" ËõĞ´ÎªÊäÈëÒ»¸ö <Esc> ×Ö·û.  µ±ÄãÔÚ Vim ÖĞÊäÈë
":ab" ÃüÁî, Äã±ØĞèÕâÑùÊäÈë: (ÕâÀï ^V ÊÇÒ»¸ö CTRL-V
²¢ÇÒ ^[ is <Esc>)

ÄãÊäÈë:   ab esc ^V^V^V^V^V^[

	ËùÓĞµÄ¼üÅÌÊäÈë¶¼×ñ´Ó ^V ÒıÓÃ½âÊÍ, ËùÒÔµÚÒ»¸ö, µÚÈı¸ö, ºÍµÚÎå¸ö
	^V  ×Ö·ûÖ»ÊÇÎªÁËÔÊĞí°ÑµÚ¶ş¸ö, ºÍµÚËÄ¸ö  ^V ºÍ ^[ ÊäÈëµ½ÃüÁîĞĞÀï.

Äã¿´µ½:    ab esc ^V^V^[

	ÃüÁîĞĞÀïÔÚ ^[ Ö®Ç°°üº¬Á½¸öÊµ¼ÊµÄ ^V.  Èç¹ûÄã²ÉÓÃÕâÖÖ·½·¨, ÕâÊÇ
	ËüÓ¦¸Ã³öÏÖÔÚÄãµÄ .exrc ÎÄ¼şµÄÑù×Ó. µÚÒ»¸ö ^V ×÷ÎªËü×Ô¼ºÒıÓÃµÄ×Ö·û,
	ËùÒÔÄãÄÜÔÚËõĞ´ÖĞ°üº¬±»ÒıÓÃµÄ¿Õ°××Ö·û»ò | ×Ö·û. :ab ÃüÁî¶Ô ^[ ×Ö·û
	²¢²»×öÌØÊâµÄÊÂÇé, ËùÒÔ²»ĞèÒª±»ÒıÓÃ. (¾¡¹ÜÒıÓÃÊÇÎŞº¦µÄ; Õâ¾ÍÊÇÊäÈë7¸ö
	[¶ø²»ÊÇ 8 ¸ö!] ^V »á¹¤×÷µÄÔ­Òò.)

±»±£´æÎª:  esc     ^V^[

	½âÎöºó, ¸ÃËõĞ´µÄ¼ò¶ÌĞÎÊ½ ("esc") ºÍÀ©Õ¹ĞÎÊ½ (Á½×Ö·û "^V^[") ±»±£´æ
	ÔÚËõĞ´±íÖĞ. Èç¹ûÊäÈë²»´ø²ÎÊıµÄ :ab ÃüÁî, ÕâÊÇ¸ÃËõĞ´±»ÏÔÊ¾µÄĞÎÊ½.

	È»ºóµ±ÓÃ»§ÊäÈëµ¥´Ê "esc" ¶ø¸ÃËõĞ´±»À©Õ¹Ê±, À©Õ¹ĞÎÊ½·ş´ÓºÍ¼üÅÌÊäÈë
	Í¬ÑùĞÎÊ½µÄ ^V ½âÊÍ. ËùÒÔ ^V ±£»¤ ^[ ×Ö·û²»±»½âÊÍÎª "ÍË³öÊäÈëÄ£Ê½"
	µÄ×Ö·û, ¶øÊÇ°Ñ ^[ ²åÈëµ½ÎÄ±¾ÀïÃæ.

À©Õ¹Îª: ^[

[example given by Steve Kirkendall]

==============================================================================
3. ¾Ö²¿Ó³ÉäºÍº¯Êı				*script-local*

µ±Ê¹ÓÃ¶à¸ö Vim ½Å±¾ÎÄ¼şÊ±, Ò»¸ö½Å±¾ºÍÁíÒ»¸ö½Å±¾Ê¹ÓÃÍ¬ÑùÃû×ÖµÄÓ³ÉäºÍº¯ÊıÊÇÎ£ÏÕ
µÄ. ÎªÁË±ÜÃâÕâÖÖÇé¿ö, ËüÃÇ¿ÉÒÔ±»¾Ö²¿ÔÚ½Å±¾ÖĞ.

						*<SID>* *<SNR>* *E81*
×Ö´® "<SID>" ÄÜ±»ÓÃÓÚÒ»¸öÓ³Éä»ò²Ëµ¥ÖĞ.  ÕâÒªÇó 'cpoptions' ÖĞÃ»ÓĞ
'<' ±êÖ¾.
   µ±Ö´ĞĞÓ³ÉäÃüÁîÊ±, Vim ½«°Ñ "<SID>" Ìæ»»³ÉÌØÊâµÄ¼üÂë <SNR>, ºó¸úÒ»¸öÃ¿¸ö½Å
±¾Î¨Ò»µÄÊı×Ö±àºÅ, ºÍÒ»¸öÏÂ»®Ïß. ÀıÈç:
	:map <SID>Add
»á¶¨ÒåÒ»¸öÓ³Éä "<SNR>23_Add".

µ±ÔÚÒ»¸ö½Å±¾ÖĞ¶¨ÒåÒ»¸öº¯ÊıµÄÊ±ºò, ¿ÉÒÔÔÚÃû×ÖµÄÇ°ÃæÓÃÒ»¸ö "s:" À´Ê¹Ëü¾Ö²¿ÓÚ½Å
±¾ÖĞ. µ«µ±Ò»¸öÓ³Éä´Ó½Å±¾ÍâÃæ±»Ö´ĞĞÊ±, Ëü²»ÖªµÀ¸Ãº¯ÊıÔÚÄÄ¸ö½Å±¾ÖĞ±»¶¨Òå. ÎªÁË
±ÜÃâÕâÖÖÇé¿ö, Ê¹ÓÃ "<SID>" À´´úÌæ "s:". Ëü»á×öºÍÓ³ÉäÒ»ÑùµÄ×ª»». ÕâÊ¹µÃÔÚÓ³Éä
Àï¿ÉÒÔ¶¨ÒåÒ»¸öº¯Êıµ÷ÓÃ.

µ±Ò»¸ö¾Ö²¿º¯Êı±»Ö´ĞĞÊ±, ËüÔÚ¶¨ÒåËûµÄ½Å±¾µÄÉÏÏÂÎÄÖĞÔËĞĞ. ÕâÒâÎ¶×Å, Ëü¶¨ÒåµÄĞÂ
µÄº¯ÊıºÍÓ³ÉäÒ²¿ÉÒÔÊ¹ÓÃ  "s:" »ò "<SID>" ²¢ÇÒµ±º¯Êı×Ô¼º±»¶¨ÒåÊ±ËüÒ²»áÊ¹ÓÃÍ¬Ñù
Î¨Ò»µÄÊı×Ö±àÂë. ´ËÍâ, ÄÜÊ¹ÓÃ "s:var" ½Å±¾¾Ö²¿±äÁ¿.

µ±Ö´ĞĞÒ»¸ö×Ô¶¯ÃüÁî»òÒ»¸öÓÃ»§ÃüÁîÊ±, Ëü½«ÔÚ¶¨ÒåËüµÄ½Å±¾µÄÉÏÏÂÎÄÖĞÔËĞĞ. ÕâÊ¹µÃ
¸ÃÃüÁî¿ÉÒÔµ÷ÓÃÒ»¸ö¾Ö²¿º¯Êı»òÕßÊ¹ÓÃÒ»¸ö¾Ö²¿Ó³Éä.

´ËÍâ, ÔÚÒ»¸ö½Å±¾ÉÏÏÂÎÄÖ®ÍâÊ¹ÓÃ "<SID>" ÊÇ´íÎóµÄ.

Èç¹ûÄãĞèÒªÔÚÒ»¸ö¸´ÔÓµÄ½Å±¾ÖĞÈ¡µÃ½Å±¾µÄÊı×Ö±àºÅ, ¿ÉÒÔÊ¹ÓÃÕâÑùµÄ¼¼ÇÉ:
	:map <SID>xx <SID>xx
	:let s:sid = maparg("<SID>xx")
	:unmap <SID>xx
È»ºóÉ¾³ıÎ²²¿µÄ "xx".

µ±ÁĞ±íº¯ÊıºÍÓ³ÉäÊ± "<SNR>" »á±»ÏÔÊ¾.  ÒªÕÒ³öËüÃÇÔÚÄÄÀï±»¶¨ÒåÊ±ÓĞÓÃ.

ÃüÁî |:scriptnames| ¿ÉÒÔÓÃÀ´²é¿´ÄÄĞ©½Å±¾ÒÑ¾­±»¶ÁÈëÒÔ¼°ËüÃÇµÄ <SNR> Êı×Ö±àºÅ.

ÕâĞ©¶¼ {not in Vi} ²¢ÇÒ {not available when compiled without the +eval
feature}.

==============================================================================
4. ÓÃ»§¶¨ÒåµÄÃüÁî				*user-commands*

¿ÉÒÔ¶¨ÒåÄã×Ô¼ºµÄ Ex ÃüÁî. Ò»¸öÓÃ»§¶¨ÒåÃüÁî¿ÉÒÔºÍÄÚ½¨ÃüÁîÒ»ÑùÔËĞĞ (Ëû¿ÉÒÔÓĞÒ»¸ö
ÀàĞÍ»ò²ÎÊı, ²ÎÊı¿ÉÒÔÊÇ×Ô¶¯Íê³ÉµÄÎÄ¼şÃû»ò»º³åÃû, µÈµÈ), ³ıÁËµ±ÕâĞ©ÃüÁî±»Ö´ĞĞµÄÊ±ºò,
»á±»×ª»»³ÉÒ»¸öÆÕÍ¨µÄ ex ÃüÁîÈ»ºóÔÙ±»Ö´ĞĞ.

¶ÔÓÚ³õÑ§ÕßÀ´Ëµ: ²Î¿¼ÓÃ»§ÊÖ²áÖĞµÄ |40.2| .

						*E183* *user-cmd-abmiguous*
ËùÓĞÓÃ»§¶¨ÒåµÄÃüÁî¶¼±ØĞèÒÔÒ»¸ö´óĞ´×ÖÄ¸¿ªÍ·, À´±ÜÃâÓëÄÚ½¨ÃüÁîµÄ³åÍ». (Òª×¢Òâ
µÄÊÇ, ÓĞÒ»Ğ©ÄÚ½¨ÃüÁî±ÈÈç :Next, :Print and :X, Ò²ÒÔ´óĞ´×ÖÄ¸¿ªÍ·.  ÔÚÕâĞ©Çé¿ö
ÏÂÄÚ½¨µÄÃüÁî×ÜÊÇÓÅÏÈÖ´ĞĞµÄ). ÓÃ»§ÃüÁîµÄÆäËü×Ö·û¿ÉÒÔÊÇ´óĞ´×ÖÄ¸, Ğ¡Ğ´×ÖÄ¸»òÊı×Ö.
µ±Ê¹ÓÃÊı×ÖÊ±, Ğ¡ĞÄ»áºÍÆäËüÒÔÊı×Ö×÷Îª²ÎÊıµÄÃüÁî»ìÏı. ÀıÈç, ÃüÁî ":Cc2" ¿ÉÄÜÊÇ
²»´ø²ÎÊıµÄÓÃ»§ÃüÁî ":Cc2", Ò²¿ÉÄÜÊÇ²ÎÊıÎª "2" µÄÃüÁî "Cc". ½¨ÒéÔÚÃüÁîÃûºÍ²ÎÊı
Ö®¼ä·ÅÖÃÒ»¸ö¿Õ¸ñÀ´±ÜÃâÕâĞ©ÎÊÌâ.

µ±Ê¹ÓÃÒ»¸öÓÃ»§¶¨ÒåµÄÃüÁîÊ±, ¸ÃÃüÁî¿ÉÒÔÊÇËõĞ´. µ«ÊÇ, Èç¹ûÒ»¸öËõĞ´²»Î¨Ò», »á·¢Éú
´íÎó. ´ËÍâ, Ò»¸öÄÚ½¨ÃüÁî½«×ÜÊÇ±»ÓÅÏÈÖ´ĞĞ.

ÀıÈç: >
	:command Rename ...
	:command Renumber ...
	:Rena				" Means "Rename"
	:Renu				" Means "Renumber"
	:Ren				" Error - ambiguous
	:command Paste ...
	:P				" The built-in :Print

½¨ÒéÔÚ½Å±¾ÖĞÊ¹ÓÃÓÃ»§¶¨ÒåÃüÁîµÄÈ«Ãû.

:com[mand]						*:com* *:command*
			ÁĞ³öËùÓĞÓÃ»§¶¨ÒåÃüÁî. ÔÚÁĞ³öÃüÁîÊ±,
			Ç°Á½À¸µÄ×Ö·û±íÊ¾
			    !	ÃüÁîÓĞ -bang ÊôĞÔ
			    "	ÃüÁîÓĞ -register ÊôĞÔ
			    b	ÃüÁî¾Ö²¿ÓÚµ±Ç°»º³å
			(ÏÂÃæÓĞÊôĞÔµÄÏêÏ¸ÃèÊö)

:com[mand] {cmd}	ÁĞ³öÒÔ {cmd} ¿ªÍ·µÄÓÃ»§ÃüÁî

							*E174* *E182*
:com[mand][!] [{attr}...] {cmd} {rep}
			¶¨ÒåÒ»¸öÓÃ»§ÃüÁî.  ÃüÁîµÄÃû×ÖÊÇ
			{cmd} ²¢ÇÒËüÌæ»»µÄÎÄ±¾ÊÇ {rep}. ¸ÃÃüÁîµÄÊôĞÔ
			(²Î¿¼ÏÂÃæ)ÊÇ {attr}. Èç¹û¸ÃÃüÁîÒÑ´æÔÚ, »á±¨¸æ´íÎó,
			 ³ı·ÇÒÑ¾­Ö¸¶¨ÁËÒ»¸ö !, ÕâÖÖÇé¿öÏÂÃüÁî±»ÖØ¶¨Òå.

:delc[ommand] {cmd}				*:delc* *:delcommand* *E184*
			É¾³ıÓÃ»§¶¨ÒåÃüÁî {cmd}.

:comc[lear]						*:comc* *:comclear*
			É¾³ıËùÓĞÓÃ»§¶¨ÒåÃüÁî.

ÃüÁîÊôĞÔ

Vim ºÍÈÎºÎÆäËü ex ÃüÁîÒ»Ñù¶Ô´ıÓÃ»§¶¨ÒåÃüÁî. ËüÄÜÓĞ²ÎÊı, »òÕßÖ¸¶¨Ò»¸öÀà±ğ.
ÒÔÎÄ¼şÃû, »º³åµÈµÈ×÷Îª²ÎÊı. ËüÔõÑù¹¤×÷ÍêÈ«È¡¾öÓÚÃüÁîµÄÊôĞÔ, ÊôĞÔÔÚÃüÁî±»
¶¨ÒåÊ±±»Ö¸¶¨.

ÓĞºÜ¶àÖÖÊôĞÔ, ·ÖÎªËÄ´óÀà: ²ÎÊı´¦Àí, Ìî³äĞĞÎª, ·¶Î§´¦Àí, ºÍÌØÊâÇé¿ö.
ÊôĞÔÔÚÏÂÃæ·ÖÀàÃèÊö.

²ÎÊı´¦Àí					*E175* *E176*

È±Ê¡Ê±, Ò»¸öÓÃ»§¶¨ÒåµÄÃüÁî½«²»½ÓÊÜ²ÎÊı (Èç¹ûÊ¹ÓÃÁËÈÎºÎ²ÎÊı»á±¨´í).
µ«ÊÇÖ¸¶¨ÃüÁî¿ÉÒÔ½ÓÊÜ²ÎÊıÊÇ¿ÉÄÜµÄ, Ê¹ÓÃ -nargs ÊôĞÔ, ÓĞĞ§µÄÇé¿öÓĞ:

	-nargs=0    ²»ÔÊĞíÓĞ²ÎÊı (È±Ê¡Çé¿ö)
	-nargs=1    ÒªÇóÒ»¸ö²ÎÊı.
	-nargs=*    ÔÊĞíÈÎºÎÊıÄ¿µÄ²ÎÊı (0, 1, or many)
	-nargs=?    ÔÊĞí 0 »ò 1 ¸ö²ÎÊı
	-nargs=+    ±ØĞè¸ø³ö²ÎÊı, µ«ÊÇÊıÄ¿ÈÎÒâ

ÔÚÕâ¸öÉÏÏÂÎÄÀï, ²ÎÊı±»ÈÏÎªÊÇÒÔ¿Õ¸ñ»òTabÀ´·Ö¸ôµÄ.

×Ô¶¯Íê³ÉĞĞÎª				*:command-completion*
							*E179* *E180* *E181*
È±Ê¡Ê±, ÓÃ»§¶¨ÒåÃüÁîµÄ²ÎÊı²»½øĞĞ×Ô¶¯Íê³É. µ«ÊÇ, Í¨¹ıÖ¸¶¨ÒÔÏÂµÄÒ»¸ö»ò¶à¸öÊôĞÔ
ºó, ²ÎÊı¿ÉÒÔ½øĞĞ×Ô¶¯Íê³É

	-complete=augroup	autocmd ×é
	-complete=buffer	»º³åÃû
	-complete=command	Ex ÃüÁî (¼°Æä²ÎÊı)
	-complete=dir		Ä¿Â¼Ãû
	-complete=environment	»·¾³±äÁ¿Ãû
	-complete=event		autocommand ÊÂ¼ş
	-complete=expression	Vim ±í´ïÊ½
	-complete=file		ÎÄ¼şºÍÄ¿Â¼Ãû
	-complete=function	º¯ÊıÃû
	-complete=help		°ïÖúÖ÷Ìâ
	-complete=highlight	¸ßÁÁÏÔÊ¾µÄ²¿·Ö
	-complete=mapping	Ó³ÉäÃû
	-complete=menu		²Ëµ¥
	-complete=option	Ñ¡Ïî
	-complete=tag		±êÇ©
	-complete=tag_listfiles	µ±ÇÃÈë CTRL-D Ê±ÏÔÊ¾µÄ±êÇ©, ÎÄ¼şÃû
	-complete=var		ÓÃ»§±äÁ¿
	-complete=custom,{func} ÓÃ»§×Ô¶¨ÖÆµÄ×Ô¶¯Íê³É, Í¨¹ı {func} À´¶¨Òå

ÓÃ»§¶¨ÖÆµÄ×Ô¶¯Íê³É			    *:command-completion-custom*
							*E467* *E468*
Í¨¹ı "custom,{func}" ×Ô¶¯Íê³É²ÎÊı¿ÉÒÔ¶¨Òå¶¨ÖÆµÄ×Ô¶¯Íê³É·½°¸. ÆäÖĞ {func} ÊÇÓĞ
ÈçÏÂÔ­ĞÍµÄº¯Êı:

	:function {func}(ArgLead, CmdLine, CursorPos)

¸Ãº¯Êı²»ĞèÒªÊ¹ÓÃËùÓĞµÄÕâĞ©²ÎÊı, µ«ÊÇÓ¦¸ÃÌá¹©×Ô¶¯Íê³ÉºòÑ¡×÷Îª·µ»ØÖµ, Ã¿ĞĞÒ»¸ö×Ö
´®ÓÃ»»ĞĞ·û·Ö¸ô. ¸Ãº¯ÊıµÄ²ÎÊıÊÇ:
	ArgLead		µ±Ç°×Ô¶¯Íê³ÉµÄÇ°µ¼²ÎÊı
	CmdLine		ÍêÕûµÄÃüÁîĞĞ
	CursorPos	ÀïÃæµÄ¹â±êÎ»ÖÃ
¸Ãº¯Êı¿ÉÄÜÒª¸ù¾İÕâĞ©À´ÅĞ±ğÉÏÏÂÎÄ. Ëü²»±ØÒªÀ´¹ıÂË¶ÔÓ¦ ArgLead (ÀïÃæµÄÒşÊ½¹æ
Ôò) µÄºòÑ¡. ÔÚº¯Êı·µ»ØÊ± Vim ½«ÓÃËüµÄÕıÔò±í´ïÊ½ÒıÇæÀ´½øĞĞ¹ıÂË, ÕâÖÖ·½Ê½ÔÚ
´ó¶àÊıÇé¿öÏÂĞ§ÂÊ¸ü¸ß.

ÒÔÏÂµÄÀı×ÓÎªÒ»¸ö Finger ÃüÁîÁĞ³öÓÃ»§Ãû >
    :com -complete=custom,ListUsers -nargs=1 Finger !finger <args>
    :fun ListUsers(A,L,P)
    :    return system("cut -d: -f1 /etc/passwd")
    :endfun

·¶Î§´¦Àí						*E177* *E178*

È±Ê¡Ê±, ÓÃ»§¶¨ÒåµÄÃüÁî²»½ÓÊÜÒ»¸öĞĞºÅ·¶Î§. µ«ÊÇ, Ò²¿ÉÒÔÖ¸¶¨ÃüÁîÄÜ¹»½ÓÊÜ
Ò»¸ö·¶Î§ (-range ÊìÏ¤), »òÕß½ÓÊÜÒ»¸öÈÎÒâµÄÊıÁ¿Öµ, ¿ÉÒÔÊÇĞĞºÅÎ»ÖÃ
(-range=N, Óë |:split| ÃüÁîÀàËÆ) »òÕß×÷ÎªÒ»¸ö "ÊıÁ¿" ²ÎÊı
(-count=N, Óë |:Next| ÃüÁîÀàËÆ). ¿ÉÄÜµÄÊôĞÔÓĞ:

	-range	    ÔÊĞíÊ¹ÓÃ·¶Î§, È±Ê¡Îªµ±Ç°ĞĞ
	-range=%    ÔÊĞíÊ¹ÓÃ·¶Î§, È±Ê¡ÊÇÕû¸öÎÄ¼ş (1,$)
	-range=N    Ò»¸öÊıÁ¿ (È±Ê¡ÊÇ N) ÓÃÀ´Ö¸¶¨ĞĞºÅÎ»ÖÃ (Óë |:split|ÀàËÆ)
	-count=N    Ò»¸öÊıÁ¿ (È±Ê¡ÊÇ N) ÓÃÀ´Ö¸¶¨ĞĞºÅÎ»ÖÃ, »òÕßÊÇ×÷ÎªÒ»¸ö³õÊ¼
		    ²ÎÊı (Óë |:Next| ÀàËÆ) Ö¸¶¨Ò»¸ö -count (²»ÉèÈ±Ê¡Öµ) ºÍ
		    -count=0 Ò»Ñù

×¢Òâ -range=N ºÍ -count=N ÊÇ»¥³âµÄ - Ö»Ó¦¸ÃÖ¸¶¨ÆäÖĞµÄÒ»¸ö.

ÌØÊâÇé¿ö

ÓĞÒ»Ğ©ÌØÊâÇé¿ö:

	-bang	    ÕâĞ©ÃüÁî¿ÉÒÔÊ¹ÓÃÒ»¸ö ! ĞŞÊÎ·ş (ºÍ :q »ò :w ÀàËÆ)
	-bar	    ÕâĞ©ÃüÁî¿ÉÒÔ¸úËæÒ»¸ö "|" ºÍÆäËüÃüÁî. ÄÇÃ´ÃüÁî²ÎÊıÖĞ¾Í
		    ²»ÔÊĞíÓĞ "|" . ÓÃÒ»¸ö " ¿ÉÒÔ¿ªÊ¼Ò»¸ö×¢ÊÍ.
	-register   ¸øÕâĞ©ÃüÁîµÄµÚÒ»¸ö²ÎÊı¿ÉÒÔÊÇÒ»¸ö¿ÉÑ¡µÄ¼Ä´æÆ÷Ãû
		    (ºÍ :del, :put, :yank ÀàËÆ).
	-buffer	    ÕâĞ©ÃüÁî½öÔÚµ±Ç°»º³åÀïÓĞĞ§.

ÔÚ -count ºÍ -register ÊôĞÔµÄÇé¿öÀï, Èç¹û¿ÉÑ¡µÄ²ÎÊı±»Ó¦ÓÃ, Ëü»á±»´Ó²ÎÊıÁĞ
±íÖĞÉ¾³ı, ²¢ÇÒÔÚ·Ö±ğµÄÎÄ±¾Ìæ»»ÖĞÓĞĞ§.

ÎÄ±¾Ìæ»»

Ò»¸öÓÃ»§¶¨ÒåÃüÁîµÄÎÄ±¾Ìæ»»±»ÒÔÌØÊâµÄ±ä»»ĞòÁĞÀ´É¨Ãè, Ê¹ÓÃ <...> ·ûºÅ. ±ä»»
ĞòÁĞ±»´ÓÃüÁîĞĞÊäÈëµÄÖµÌæ»», ²¢ÇÒËùÓĞÆäËüÎÄ±¾¶¼±»²»±äµÄ¿½±´. ½á¹û×Ö´®±»×÷Îª
Ò»¸ö Ex ÃüÁîÀ´Ö´ĞĞ. Èç¹û³õÊ¼µÄ < ±ä»»ĞòÁĞÇ°ÃæÓĞÒ»¸ö·´Ğ±¸Ü, ¸ÃĞòÁĞ±»²»±äµÄ
¿½±´.

ÓĞĞ§µÄ±ä»»ĞòÁĞÓĞ

						*<line1>*
	<line1>	ÃüÁî´¦Àí·¶Î§µÄ¿ªÊ¼ĞĞ.
						*<line2>*
	<line2>	ÃüÁî´¦Àí·¶Î§µÄÄ©Î²ĞĞ.
						*<count>*
	<count>	±»Ó¦ÓÃµÄÈÎÒâÊıÁ¿ (ÔÚ '-range'
		ºÍ '-count' ÊôĞÔÖĞÃèÊö¹ıµÄ).
						*<bang>*
	<bang>	(²Î¿¼ '-bang' ÊôĞÔ) À©Õ¹³öÒ»¸ö ! Èç¹û¸ÃÃüÁîÖ´ĞĞµÄ
		Ê±ºò´øÁËÒ»¸ö ! ĞŞÊÎ·û, ·ñÔòÊ²Ã´Ò²²»À©Õ¹.
						*<reg>* *<register>*
	<reg>	(²Î¿¼ '-register' ÊôĞÔ) ¿ÉÑ¡µÄ¼Ä´æÆ÷, Èç¹ûÖ¸¶¨µÄ»°.
		·ñÔòÊ²Ã´Ò²²»À©Õ¹. <register> ÊÇËüµÄÒ»¸öÍ¬Òå´Ê.
						*<args>*
	<args>	ÃüÁîµÄ²ÎÊı, Óë±»Ìá¹©µÄ¾«È·ÏàÍ¬ (µ«ÕıÈçÉÏÃæÌáµ½¹ıµÄ, ÈÎºÎ
		ÊıÁ¿Öµ»ò¼Ä´æÆ÷»áÏûºÄÒ»Ğ©²ÎÊı, ÕâÊ±ËüÃÇÒÑ²»ÊÇ <args> µÄÒ»
		²¿·ÖÁË).
	<lt>	Ò»¸öµ¥¶ÀµÄ '<' (Ğ¡ÓÚºÅ) ×Ö·û.  ÔÚ±ä»»ĞòÁĞÀ©Õ¹Ê±Èç¹ûĞèÒªµÃµ½
		Ò»¸ö×ÖÃæÒâÒåµÄ´óĞ¡ÓÚºÅµÄ¿½±´Ê±ĞèÒª. - ÀıÈç, Òª»ñµÃ <bang>,
		Ê¹ÓÃ <lt>bang>.

							*<q-args>*
Èç¹ûÒ»¸ö±ä»»ĞòÁĞµÄ×îÇ°Á½¸ö×Ö·ûÊÇ "q-" (ÀıÈç, <q-args>) ÄÇÃ´¸ÃÖµÒÔÒ»ÖÖÊ¹ËüÔÚ
ÓÃÓÚÒ»¸ö±í´ïÊ½Ê±ÓĞĞ§µÄ·½Ê½±»ÒıÓÃ. ÕâÖÖ·½Ê½°Ñ²ÎÊıµ±×öµ¥¸öÖµ.

ÒªÔÊĞíÃüÁî°ÑËüÃÇµÄ²ÎÊı´«ËÍ¸øÒ»¸öÓÃ»§¶¨ÒåµÄº¯Êı, ÓĞÒ»ÖÖÌØÊâµÄĞÎÊ½ <f-args>
("function args"). ËüÔÚ¿Õ¸ñºÍTabµÄµØ·½·ÖÁÑÃüÁîĞĞ²ÎÊı, ·Ö±ğµÄÒıÓÃÃ¿¸ö²ÎÊı,
²¢ÇÒ <f-args> ĞòÁĞ±»¶ººÅ·Ö¸ôµÄÒıÓÃ²ÎÊıÁĞ±íËùÌæ»». ²Î¿¼ÏÂÃæµÄ Mycmd Ê¾Àı.
µ±Ã»ÓĞ²ÎÊıÊ±, <f-args> Ò²Ã»ÓĞ²ÎÊı.

Ê¾Àı >

   " É¾³ı´ÓÕâÀïµ½Ä©Î²µÄËùÓĞ¶«Î÷
   :com Ddel +,$d

   " °Ñµ±Ç°»º³å¸ÄÃû
   :com -nargs=1 -bang -complete=file Ren f <args>|w<bang>

   " ÓÃÒ»¸öÎÄ¼şµÄÄÚÈİÀ´Ìæ»»Ä³¸ö·¶Î§ÄÚµÄÄÚÈİ
   " (ÒÔÒ»ĞĞÊäÈëËùÓĞÕâĞ©¶«Î÷)
   :com -range -nargs=1 -complete=file
	 Replace <line1>-pu_|<line1>,<line2>d|r <args>|<line1>d

   " ¼ÆËã·¶Î§ÄÚµÄĞĞÊı
   :com! -range -nargs=0 Lines :echo <line2> - <line1> + 1 "lines"

   " µ÷ÓÃÒ»¸öÓÃ»§º¯Êı (<f-args> µÄÊ¾Àı)
   :com -nargs=* Mycmd call Myfunc(<f-args>)

µ±±»ÕâÑùÖ´ĞĞÊ±: >
	:Mycmd arg1 arg2
Ëü½«µ÷ÓÃ: >
	:call Myfunc("arg1","arg2")

   :" Ò»¸ö¸üÊµÓÃµÄÀı×Ó
   :function Allargs(command)
   :	let i = 0
   :	while i < argc()
   :	   if filereadable(argv(i))
   :	    execute "e " . argv(i)
   :	     execute a:command
   :      endif
   :      let i = i + 1
   :   endwhile
   :endfunction
   :command -nargs=+ -complete=command Allargs call Allargs(<q-args>)

ÃüÁî Allargs ÒÔÈÎÒâ Vim ÃüÁî×÷Îª²ÎÊı²¢ÔÚ²ÎÊıÁĞ±íÀïµÄËùÓĞÎÄ¼şÉÏÖ´ĞĞËü. Ê¹ÓÃÊ¾Àı
(×¢ÒâÊ¹ÓÃ "e" ±êÖ¾À´ºöÂÔ´íÎó²¢ÇÒÓÃ "update" ÃüÁîÀ´Ğ´±»ĞŞ¸ÄµÄ»º³åÇø):
	:Allargs %s/foo/bar/ge|update
Ëü½«µ÷ÓÃ: >
	:call Allargs("%s/foo/bar/ge|update")
<
µ±ÔÚÒ»¸ö½Å±¾Àï¶¨ÒåÒ»¸öÓÃ»§ÃüÁîÊ±, Ëü¿ÉÒÔµ÷ÓÃ¾Ö²¿Óë½Å±¾ÖĞµÄº¯Êı²¢ÇÒÊ¹ÓÃÓ³Éä
À´¾Ö²¿ÓÚ¸Ã½Å±¾. µ±ÓÃ»§µ÷ÓÃÓÃ»§ÃüÁîÊ±, ¸ÃÃüÁî½«ÔËĞĞÔÚ¶¨ÒåËüµÄ½Å±¾µÄÉÏÏÂÎÄÀï,
Èç¹ûÒ»¸öÃüÁîÖĞÊ¹ÓÃÁË |<SID>| µÄÊ±ºòÕâºÜÖØÒª.

 vim:tw=78:ts=8:ft=help:norl:enc=euc-cn:
